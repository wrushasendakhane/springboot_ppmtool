(this["webpackJsonpppmtool-react-client"]=this["webpackJsonpppmtool-react-client"]||[]).push([[0],{39:function(e,a,t){e.exports=t(73)},44:function(e,a,t){},45:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(36),o=t.n(c),l=t(5),s=(t(44),t(4)),i=t(8),m=(t(45),t(46),t(47),Object(r.createContext)(null));var d=function(){var e=Object(r.useContext)(m),a=e.data,t=e.handleLogout,c=Object(r.useState)(null),o=Object(s.a)(c,2),i=o[0],d=o[1];return Object(r.useEffect)((function(){console.log("NavBar",a),d(a?n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement(l.c,{className:"nav-item nav-link",to:"/dashboard"},"Dashboard")),n.a.createElement(l.b,{className:"nav-item nav-link",to:"/dashboard"},n.a.createElement("i",{className:"fa fa-user-circle mr-1"}),a.fullName),n.a.createElement(l.b,{className:"nav-item nav-link",to:"/login",onClick:t},"Logout")):n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement(l.b,{className:"nav-item nav-link",to:"/login"},"Login"),n.a.createElement(l.b,{className:"nav-item nav-link",to:"/register"},"Sign Up"))))}),[a]),n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement(l.b,{to:"/landing",className:"navbar-brand"},"PPMTool"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),i))},u=t(1),p=t.n(u),v=t(6),f=t(9),E=t.n(f);function b(){return E.a.get("/api/project/all")}function N(e){return E.a.get("/api/project"+"/".concat(e))}function j(e){return E.a.post("/api/project",e)}var g=function(e){var a=e.project,t=e.onDelete;return n.a.createElement("div",{className:"container",style:{paddingTop:"10px"}},n.a.createElement("div",{className:"card"},n.a.createElement("h5",{className:"card-header"},a.projectIdentifier),n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-9"},n.a.createElement("h5",{className:"card-title text-left"},a.projectName),n.a.createElement("p",{className:"card-text text-left"},a.description)),n.a.createElement("div",{className:"col-3"},n.a.createElement("ul",{className:"list-group"},n.a.createElement(l.b,{className:"list-group-item fa fa-edit pr-1",to:"/projectBoard/".concat(a.projectIdentifier)},"\xa0 Project Board"),n.a.createElement(l.b,{className:"list-group-item fa fa-flag-checkered pr-1",to:"/updateProject/".concat(a.projectIdentifier)},"\xa0Update Project"),n.a.createElement("li",{className:"list-group-item fa fa-minus-circle pr-1",style:{cursor:"pointer"},onClick:function(){return t(a.projectIdentifier)}},"\xa0Delete Project")))))))},h=function(){return n.a.createElement(l.b,{to:"/addProject",className:"btn btn-info btn-sm"},"Create Project")};var y=function(){var e=Object(r.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1];Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var a,t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:a=e.sent,t=a.data,c(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var o=function(){var e=Object(v.a)(p.a.mark((function e(a){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n=a,E.a.delete("/api/project"+"/".concat(n));case 3:return e.next=5,b();case 5:t=e.sent,r=t.data,c(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c((function(e){return e}));case 13:case"end":return e.stop()}var n}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-center"},"Projects"),n.a.createElement("div",{className:"text-left"},n.a.createElement(h,null)),n.a.createElement("div",{style:{paddingTop:"10px"}},t.map((function(e){return n.a.createElement(g,{key:e.id,project:e,onDelete:o})}))))},O=t(11),w=t(7),k=t(2),x=t.n(k),S=t(3),C=t.n(S);var D=function(e){var a=e.history,t=Object(r.useState)({id:0,projectName:"",projectIdentifier:"",description:"",start_date:"",end_date:""}),c=Object(s.a)(t,2),o=c[0],l=c[1],i=Object(r.useState)({}),m=Object(s.a)(i,2),d=m[0],u=m[1],f=function(e){var a=Object(w.a)(Object(w.a)({},o),{},Object(O.a)({},e.target.name,e.target.value));l(a)},E=function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,j(o);case 4:a.replace("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),u(Object(w.a)({},e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-center"},"Create Project Form"),n.a.createElement("form",{onSubmit:E},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",className:x()("form-control",{"is-invalid":d.projectName,"is-valid":!C.a.isEmpty(d)&&!d.projectName}),name:"projectName",value:o.projectName,autoFocus:!0,placeholder:"Project Name",onChange:f}),d.projectName&&n.a.createElement("div",{className:"invalid-feedback"},d.projectName)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",className:x()("form-control",{"is-invalid":d.projectIdentifier,"is-valid":!C.a.isEmpty(d)&&!d.projectIdentifier}),name:"projectIdentifier",value:o.projectIdentifier,placeholder:"Project Identifier",onChange:f}),d.projectIdentifier&&n.a.createElement("div",{className:"invalid-feedback"},d.projectIdentifier)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("textarea",{className:x()("form-control",{"is-invalid":d.description,"is-valid":!C.a.isEmpty(d)&&!d.description}),name:"description",value:o.description,placeholder:"Description",onChange:f}),d.description&&n.a.createElement("div",{className:"invalid-feedback"},d.description)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"start_date",className:"col-sm-2 col-form-label"},"Start Date"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"date",className:x()("form-control",{"is-invalid":d.start_date,"is-valid":!C.a.isEmpty(d)&&!d.start_date}),name:"start_date",value:o.start_date,onChange:f})),d.start_date&&n.a.createElement("div",{className:"invalid-feedback"},d.start_date)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"end_date",className:"col-sm-2 col-form-label"},"End Date"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"date",className:x()("form-control",{"is-invalid":d.end_date,"is-valid":!C.a.isEmpty(d)&&!d.end_date}),name:"end_date",value:o.end_date,onChange:f})),d.end_date&&n.a.createElement("div",{className:"invalid-feedback"},d.end_date)),n.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit"},"Add Project")))};var I=function(e){var a=e.match,t=e.history,c=Object(r.useState)({id:"",projectName:"",projectIdentifier:"",description:"",start_date:"",end_date:""}),o=Object(s.a)(c,2),l=o[0],i=o[1],m=Object(r.useState)({}),d=Object(s.a)(m,2),u=d[0],f=d[1];Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(a.params.id);case 3:t=e.sent,r=t.data,i(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f(Object(w.a)({},e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=function(e){var a=Object(w.a)(Object(w.a)({},l),{},Object(O.a)({},e.target.name,e.target.value));i(a)},b=function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,j(l);case 4:t.replace("/dashboard"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),f(Object(w.a)({},e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-center"},"Update Project Form"),n.a.createElement("form",{onSubmit:b},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",className:x()("form-control",{"is-invalid":u.projectName,"is-valid":!C.a.isEmpty(u)&&!u.projectName}),name:"projectName",value:l.projectName,autoFocus:!0,placeholder:"Project Name",onChange:E}),u.projectName&&n.a.createElement("div",{className:"invalid-feedback"},u.projectName)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",className:x()("form-control",{"is-invalid":u.projectIdentifier,"is-valid":!C.a.isEmpty(u)&&!u.projectIdentifier}),name:"projectIdentifier",value:l.projectIdentifier,placeholder:"Project Identifier",onChange:E}),u.projectIdentifier&&n.a.createElement("div",{className:"invalid-feedback"},u.projectIdentifier)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("textarea",{className:x()("form-control",{"is-invalid":u.description,"is-valid":!C.a.isEmpty(u)&&!u.description}),name:"description",value:l.description,placeholder:"Description",onChange:E}),u.description&&n.a.createElement("div",{className:"invalid-feedback"},u.description)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"start_date",className:"col-sm-2 col-form-label"},"Start Date"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"date",className:x()("form-control",{"is-invalid":u.start_date,"is-valid":!C.a.isEmpty(u)&&!u.start_date}),name:"start_date",value:l.start_date||"",onChange:E})),u.start_date&&n.a.createElement("div",{className:"invalid-feedback"},u.start_date)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"end_date",className:"col-sm-2 col-form-label"},"End Date"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"date",className:x()("form-control",{"is-invalid":u.end_date,"is-valid":!C.a.isEmpty(u)&&!u.end_date}),name:"end_date",value:l.end_date||"",onChange:E})),u.end_date&&n.a.createElement("div",{className:"invalid-feedback"},u.end_date)),n.a.createElement("button",{className:"btn btn-primary btn-lg",type:"submit"},"Update Project")))},P=t(17);var _=function(e){var a,t,r=e.projectTask,c=e.onDelete;return 1===r.priority?(a="HIGH",t="bg-danger"):2===r.priority?(a="MEDIUM",t="bg-warning"):3===r.priority&&(a="LOW",t="bg-info"),n.a.createElement("div",{className:"card bg-light m-2"},n.a.createElement("div",{className:"card-header ".concat(t)},"ID: ",r.projectSequence," Priority: ",a),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},r.summary),n.a.createElement("p",{className:"card-text"},r.acceptanceCriteria),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-6"},n.a.createElement(l.b,{to:"/updateProjectTask/".concat(r.projectIdentifier,"/").concat(r.projectSequence),className:"btn btn-primary btn-sm"},"View/Update")),n.a.createElement("div",{className:"col-6"},n.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){return c(r.projectSequence)}},"Delete")))))};function T(e){return E.a.post("/api/backlog/"+"".concat(e.projectIdentifier),e)}function B(e){return E.a.patch("/api/backlog/"+"".concat(e.projectIdentifier,"/").concat(e.projectSequence),e)}function F(e){return E.a.get("/api/backlog/"+"".concat(e))}function R(e,a){return E.a.get("/api/backlog/"+"".concat(e,"/").concat(a))}function U(e,a){return E.a.delete("/api/backlog/"+"".concat(e,"/").concat(a))}var L=function(e){var a=e.projectIdentifier,t=Object(r.useState)([]),c=Object(s.a)(t,2),o=c[0],l=c[1],i=Object(r.useState)([]),m=Object(s.a)(i,2),d=m[0],u=m[1],f=Object(r.useState)([]),E=Object(s.a)(f,2),b=E[0],N=E[1],j=Object(r.useState)([]),g=Object(s.a)(j,2),h=g[0],y=g[1],O=Object(r.useState)({}),w=Object(s.a)(O,2),k=w[0],x=w[1],S=function(){var e=Object(v.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(a,t);case 3:u([]),N([]),y([]),l((function(e){return e.filter((function(e){return e.projectSequence!==t}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(a){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log("Backlog dependency useEffect getting called"),o.forEach((function(e){"TO_DO"===e.status?u((function(a){return[].concat(Object(P.a)(a),[n.a.createElement(_,{key:e.id,projectTask:e,onDelete:S})])})):"IN_PROGRESS"===e.status?N((function(a){return[].concat(Object(P.a)(a),[n.a.createElement(_,{key:e.id,projectTask:e,onDelete:S})])})):"DONE"===e.status&&y((function(a){return[].concat(Object(P.a)(a),[n.a.createElement(_,{key:e.id,projectTask:e,onDelete:S})])}))}))}),[o]),Object(r.useEffect)((function(){function e(){return(e=Object(v.a)(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F(a);case 3:t=e.sent,r=t.data,l((function(e){return[].concat(Object(P.a)(e),Object(P.a)(r))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?x(e.t0.response.data):(n=JSON.parse(e.t0.message)).projectNotFound&&x(n);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}console.log("Initial useEffect hook getting called"),function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"container"},k&&k.projectNotFound?n.a.createElement("div",{className:"alert alert-danger text-center"},k.projectNotFound):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card bg-light"},n.a.createElement("div",{className:"card-header text-center"},"TO DO")),d),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card bg-primary"},n.a.createElement("div",{className:"card-header text-center"},"IN PROGRESS")),b),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"card bg-success"},n.a.createElement("div",{className:"card-header text-center"},"DONE")),h)))};var A=function(e){var a=e.match.params.id;return n.a.createElement("div",{className:"container"},n.a.createElement(l.b,{to:"/addProjectTask/".concat(a),className:"btn btn-primary mt-2 fa fa-plus-circle pr-1"},"\xa0Create Project Task"),n.a.createElement("br",null),n.a.createElement("hr",null),n.a.createElement(L,{projectIdentifier:a}))};var G=function(e){var a=e.match,t=e.history,c=a.params.id,o=Object(r.useState)({summary:"",acceptanceCriteria:"",dueDate:"",priority:0,status:"",projectIdentifier:c}),i=Object(s.a)(o,2),m=i[0],d=i[1],u=Object(r.useState)([]),f=Object(s.a)(u,2),E=f[0],b=f[1],N=function(e){var a=Object(w.a)(Object(w.a)({},m),{},Object(O.a)({},e.target.name,e.target.value));d(a)},j=function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,T(m);case 4:t.replace("/projectBoard/".concat(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),b(Object(w.a)({},e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"container"},n.a.createElement(l.b,{to:"/projectBoard/".concat(c),className:"btn btn-secondary btn-sm mt-2"},"Back to Project Board"),n.a.createElement("h2",{className:"text-center"},"Add Project Task"),n.a.createElement("form",{onSubmit:j},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",name:"summary",className:x()("form-control",{"is-invalid":E.summary,"is-valid":!C.a.isEmpty(E)&&!E.summary}),placeholder:"Project Task Summary",value:m.summary,onChange:N}),E.summary&&n.a.createElement("div",{className:"invalid-feedback"},E.summary)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("textarea",{name:"acceptanceCriteria",className:x()("form-control",{"is-invalid":E.acceptanceCriteria,"is-valid":!C.a.isEmpty(E)&&!E.acceptanceCriteria}),placeholder:"Acceptance Criteria",value:m.acceptanceCriteria,onChange:N}),E.acceptanceCriteria&&n.a.createElement("div",{className:"invalid-feedback"},E.acceptanceCriteria)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"dueDate",className:"col-md-2 col-form-label"},"Due Date"),n.a.createElement("div",{className:"col-md-10"},n.a.createElement("input",{type:"date",name:"dueDate",className:x()("form-control",{"is-invalid":E.dueDate,"is-valid":!C.a.isEmpty(E)&&!E.dueDate}),value:m.dueDate,onChange:N}),E.dueDate&&n.a.createElement("div",{className:"invalid-feedback"},E.dueDate))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("select",{name:"priority",className:x()("form-control",{"is-invalid":E.priority,"is-valid":!C.a.isEmpty(E)&&!E.priority}),value:m.priority,onChange:N},n.a.createElement("option",{value:0},"Select Priority"),n.a.createElement("option",{value:3},"LOW"),n.a.createElement("option",{value:2},"MEDIUM"),n.a.createElement("option",{value:1},"HIGH")),E.priority&&n.a.createElement("div",{className:"invalid-feedback"},E.priority)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("select",{name:"status",className:x()("form-control",{"is-invalid":E.status,"is-valid":!C.a.isEmpty(E)&&!E.status}),value:m.status,onChange:N},n.a.createElement("option",{value:""},"Select Status"),n.a.createElement("option",{value:"TO_DO"},"TO DO"),n.a.createElement("option",{value:"IN_PROGRESS"},"IN PROGRESS"),n.a.createElement("option",{value:"DONE"},"DONE")),E.status&&n.a.createElement("div",{className:"invalid-feedback"},E.status)),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary btn-block"},"Submit"))))};var M=function(e){var a=e.match,t=e.history,c=a.params.id,o=a.params.pt_id,i=Object(r.useState)({summary:"",acceptanceCriteria:"",dueDate:"",priority:0,status:"",projectIdentifier:c,projectSequence:o}),m=Object(s.a)(i,2),d=m[0],u=m[1],f=Object(r.useState)([]),E=Object(s.a)(f,2),b=E[0],N=E[1];Object(r.useEffect)((function(){(function(){var e=Object(v.a)(p.a.mark((function e(){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(c,o);case 3:a=e.sent,r=a.data,u(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?N(e.t0.response.data):JSON.parse(e.t0.message).projectNotFound&&(console.log(),t.replace("/projectBoard/".concat(c)));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=function(e){var a=Object(w.a)(Object(w.a)({},d),{},Object(O.a)({},e.target.name,e.target.value));u(a)},g=function(){var e=Object(v.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,B(d);case 4:t.replace("/projectBoard/".concat(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response?N(e.t0.response.data):JSON.parse(e.t0.message).projectNotFound&&t.replace("/projectBoard/".concat(c));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"container"},n.a.createElement(l.b,{to:"/projectBoard/".concat(c),className:"btn btn-secondary btn-sm mt-2"},"Back to Project Board"),n.a.createElement("h2",{className:"text-center"},"Update Project Task"),n.a.createElement("p",{className:"text-center"},"Project Name: ",c," | Project ID: ",o),n.a.createElement("form",{onSubmit:g},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{type:"text",name:"summary",className:x()("form-control",{"is-invalid":b.summary,"is-valid":!C.a.isEmpty(b)&&!b.summary}),placeholder:"Project Task Summary",value:d.summary,onChange:j}),b.summary&&n.a.createElement("div",{className:"invalid-feedback"},b.summary)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("textarea",{name:"acceptanceCriteria",className:x()("form-control",{"is-invalid":b.acceptanceCriteria,"is-valid":!C.a.isEmpty(b)&&!b.acceptanceCriteria}),placeholder:"Acceptance Criteria",value:d.acceptanceCriteria,onChange:j}),b.acceptanceCriteria&&n.a.createElement("div",{className:"invalid-feedback"},b.acceptanceCriteria)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"dueDate",className:"col-md-2 col-form-label"},"Due Date"),n.a.createElement("div",{className:"col-md-10"},n.a.createElement("input",{type:"date",name:"dueDate",className:x()("form-control",{"is-invalid":b.dueDate,"is-valid":!C.a.isEmpty(b)&&!b.dueDate}),value:d.dueDate||"",onChange:j}),b.dueDate&&n.a.createElement("div",{className:"invalid-feedback"},b.dueDate))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("select",{name:"priority",className:x()("form-control",{"is-invalid":b.priority,"is-valid":!C.a.isEmpty(b)&&!b.priority}),value:d.priority,onChange:j},n.a.createElement("option",{value:0},"Select Priority"),n.a.createElement("option",{value:3},"LOW"),n.a.createElement("option",{value:2},"MEDIUM"),n.a.createElement("option",{value:1},"HIGH")),b.priority&&n.a.createElement("div",{className:"invalid-feedback"},b.priority)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("select",{name:"status",className:x()("form-control",{"is-invalid":b.status,"is-valid":!C.a.isEmpty(b)&&!b.status}),value:d.status,onChange:j},n.a.createElement("option",{value:""},"Select Status"),n.a.createElement("option",{value:"TO_DO"},"TO DO"),n.a.createElement("option",{value:"IN_PROGRESS"},"IN PROGRESS"),n.a.createElement("option",{value:"DONE"},"DONE")),b.status&&n.a.createElement("div",{className:"invalid-feedback"},b.status)),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary btn-block"},"Submit"))))};var J=function(e){var a=e.history,t=Object(r.useContext)(m).data;return Object(r.useEffect)((function(){t&&a.push("/dashboard")})),n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"text-center"},"Personal Project Management Tool"),n.a.createElement("h4",{className:"text-center"},"Create your account to join active projects or start your own"),n.a.createElement("hr",null),n.a.createElement("p",{className:"text-center"},n.a.createElement(l.b,{className:"btn btn-primary btn-lg mb-2",to:"/register"},"Sign Up"),"\xa0",n.a.createElement(l.b,{className:"btn btn-secondary btn-lg mb-2",to:"/login"},"Login")))};E.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response.status>=400)throw console.log(e.response),new Error(JSON.stringify(e.response.data));throw e}));function q(e){return E.a.post("/api/users/register",e)}function H(e){return E.a.post("/api/users/login",e)}var W=function(e){var a=e.history,t=Object(r.useContext)(m).data,c=Object(r.useState)({username:"",fullName:"",password:"",confimPassword:""}),o=Object(s.a)(c,2),l=o[0],i=o[1];t&&a.push("/dashboard");var d=Object(r.useState)({}),u=Object(s.a)(d,2),f=u[0],E=u[1],b=function(e){var a=Object(w.a)(Object(w.a)({},l),{},Object(O.a)({},e.target.name,e.target.value));i(a)},N=function(){var e=Object(v.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,q(l);case 4:a.replace("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),e.t0.response?E(e.t0.response.data):(r=JSON.parse(e.t0.message),E(r));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"text-center"},"Sign Up"),n.a.createElement("h5",{className:"text-center"},"Create you Account"),n.a.createElement("form",{onSubmit:N},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":f.fullName,"is-valid":!C.a.isEmpty(f)&&!f.fullName}),type:"text",name:"fullName",placeholder:"Full Name",onChange:b}),f.fullName&&n.a.createElement("div",{className:"invalid-feedback"},f.fullName)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":f.username,"is-valid":!C.a.isEmpty(f)&&!f.username}),type:"text",name:"username",placeholder:"Email Address (Username)",onChange:b}),f.username&&n.a.createElement("div",{className:"invalid-feedback"},f.username)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":f.password,"is-valid":!C.a.isEmpty(f)&&!f.password}),type:"password",name:"password",placeholder:"Password",onChange:b}),f.password&&n.a.createElement("div",{className:"invalid-feedback"},f.password)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":f.confirmPassword,"is-valid":!C.a.isEmpty(f)&&!f.confirmPassword}),type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:b}),f.confirmPassword&&n.a.createElement("div",{className:"invalid-feedback"},f.confirmPassword)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("button",{className:"btn btn-info btn-lg btn-block",type:"submit"},"Submit"))))},z=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},V=function(){var e=Object(v.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("jwtToken"),z();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=t(21),K=t.n($);var Q=function(e){var a=e.history,t=Object(r.useContext)(m),c=t.data,o=t.handleLogin,l=Object(r.useState)({username:"",password:""}),i=Object(s.a)(l,2),d=i[0],u=i[1];c&&a.push("/dashboard");var f=Object(r.useState)({}),E=Object(s.a)(f,2),b=E[0],N=E[1],j=function(e){var a=Object(w.a)(Object(w.a)({},d),{},Object(O.a)({},e.target.name,e.target.value));u(a)},g=function(){var e=Object(v.a)(p.a.mark((function e(t){var r,n,c,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,H(d);case 4:r=e.sent,n=r.data,localStorage.setItem("jwtToken",n.token),z(n.token),c=K()(n.token),o(c),a.replace("/dashboard"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response?N(e.t0.response.data):(l=JSON.parse(e.t0.message),N(l));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"text-center"},"Log In"),n.a.createElement("form",{onSubmit:g},n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":b.username,"is-valid":!C.a.isEmpty(b)&&!b.username}),type:"text",name:"username",placeholder:"Email Address",value:d.username,onChange:j}),b.username&&n.a.createElement("div",{className:"invalid-feedback"},b.username)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("input",{className:x()("form-control form-control-lg",{"is-invalid":b.password,"is-valid":!C.a.isEmpty(b)&&!b.password}),type:"password",name:"password",placeholder:"Password",value:d.password,onChange:j}),b.password&&n.a.createElement("div",{className:"invalid-feedback"},b.password)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("button",{className:"btn btn-info btn-lg btn-block",type:"submit"},"Submit"))))},X=t(38),Y=function(e){var a=e.component,t=e.loggedIn,r=Object(X.a)(e,["component","loggedIn"]);return console.log(t),n.a.createElement(i.b,Object.assign({},r,{render:function(e){return t?n.a.createElement(a,Object.assign({},r,e)):n.a.createElement(i.a,{to:"/login"})}}))},Z=localStorage.jwtToken,ee=null;if(Z){z(Z),ee=K()(Z);var ae=Date.now()/1e3;ee.exp<ae&&(V(),window.location.href="/")}var te=function(e){var a=Object(r.useState)(ee),t=Object(s.a)(a,2),c=t[0],o=t[1],l={data:c,handleLogin:function(e){o(e)},handleLogout:function(){V(),o(null)}};return n.a.createElement(r.Fragment,null,n.a.createElement(m.Provider,{value:l},n.a.createElement(d,null),n.a.createElement("main",{role:"main",className:"container"},n.a.createElement(i.d,null,n.a.createElement(i.b,{path:"/register",component:function(e){return n.a.createElement(W,e)}}),n.a.createElement(i.b,{path:"/login",component:function(e){return n.a.createElement(Q,e)}}),n.a.createElement(Y,{loggedIn:null!=c,path:"/dashboard",component:y}),n.a.createElement(Y,{loggedIn:null!=c,path:"/addProject",component:function(e){return n.a.createElement(D,e)}}),n.a.createElement(Y,{loggedIn:null!=c,path:"/updateProject/:id",component:function(e){return n.a.createElement(I,e)}}),n.a.createElement(Y,{loggedIn:null!=c,path:"/projectBoard/:id",component:function(e){return n.a.createElement(A,e)}}),n.a.createElement(Y,{loggedIn:null!=c,path:"/addProjectTask/:id",component:function(e){return n.a.createElement(G,e)}}),n.a.createElement(Y,{loggedIn:null!=c,path:"/updateProjectTask/:id/:pt_id",component:function(e){return n.a.createElement(M,e)}})," */}",n.a.createElement(i.b,{path:"/",component:function(e){return n.a.createElement(J,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(l.a,null,n.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.8e8db604.chunk.js.map